@import uk.gov.hmrc.awrslookup._
@import uk.gov.hmrc.awrslookup.models._
@import uk.gov.hmrc.play.views.html.helpers._
@import views.html._
@import helpers._
@import lookup.results._
@import java.net.URLDecoder

@(result: AwrsEntry, id: String, searchTerm: String)(implicit request : Request[AnyContent], messages: Messages)

@address = { Address, @result.info.address.toStringSeq.mkString(", ") }

@resultNameToDisplay = @{
    result match {
        case _ : Business => bestMatchName(result.info, searchTerm)
        case asGroup : Group => groupSearchBestMatchInfo(asGroup, searchTerm)
    }
}

<div class="form-group">
    <a class="result-link" id="result_@id" href="@controllers.routes.LookupController.show(fromMulti = true)?=originalSearchTerm=@{searchTerm}&query=@{result.awrsRef}">
        <h3 class="heading-medium-search">@resultNameToDisplay</h3>
    </a>
    @headerRegNumberHighlight(result, attrClass = "form-hint", id = id)
    <p id="address_@id">@address</p>
</div>