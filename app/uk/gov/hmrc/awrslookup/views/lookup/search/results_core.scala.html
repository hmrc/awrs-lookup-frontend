@import uk.gov.hmrc.awrslookup._
@import uk.gov.hmrc.play.views.html.helpers.{form => _, _}
@import views.html.helpers._

@(searchForm : Form[models.Query],
  preFormContent: Option[Html] = None,
  postFormContent: Option[Html] = None,
  action : Call,
  title : String,
  searchTerm: String
)(implicit request : Request[AnyContent], messages: Messages)

@searchbar = {
    <div class="search print-hidden">
        @awrsInputTypeText(
        field = searchForm("query"),
        inputClass = "search-awrs",
        parentForm = searchForm,
        maxLength = 140,
        postInputContent = search_button(id = "search", classAttr = None),
        label = Messages("awrs.lookup.search.label"),
        labelClass = "visuallyhidden"
        )
    </div>
}

@cssScripts = {
    <link rel="stylesheet" href=@routes.Assets.at("stylesheets/custom.css")>
}

@pageScripts = {
    <script type="text/javascript" src='@routes.Assets.at("javascripts/awrs.js")'></script>
    <script>_gaq.push(['_trackEvent', 'Search Results', 'Success', '@searchTerm']);</script>
}

@views.html.main_template(title = title, bodyClasses = None, contentHeader = cssScripts, scriptElem = pageScripts) {
    @helper.form(action = action, 'id -> "search-form") {
        @searchbar
    }
    <div class="grid">
        <div class="grid-2-3">
            @preFormContent
            @postFormContent
        </div>
    </div>
}